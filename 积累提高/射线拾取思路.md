思路，将M键获取点数据改为鼠标点击位置获取点的数据即可

改变：1.增加计算射线（包含了计算点P）、变换射线函数，增加射线结构体
          2.进行地形网格的三角形面片和射线的相交判断函数（自定义），判断逻辑是
          3.根据2.函数返回相交的坐标值
注：计算射线，变换射线是在窗口处理函数中生效的，判断是否相交是在通过射线获取定点函数中生效的


难点：
1.判断射线和三角形是否相交
构建方程
求出tuv
根据tuv计算得到交点XYZ，但是只需要使用XZ值
2.如何遍历每个地形三角形的顶点
将地形的顶点缓存的访问修饰符设置为公开
在获得顶点数据函数中锁定顶点缓存，再根据索引计算函数中哪三个顶点构成三角形来将顶点数据赋值给v0,v1,v2
最后将v0,v1,v2传给判断射线和三角形是否相交的函数来求取tuv


错误：1.在读取地形顶点数据时访问异常 ，研究研究Lock函数，
原因可能是创建顶点缓存时使用的状态是WRITEONLY导致读取时出现访问异常
D3DUSAGE_WRITEONLY改为D3DUSAGE_DYNAMIC,还是错误，
原因也有可能是在创建顶点缓存后的那个LOCK函数的锁定状态不对
D3DUSAGE_WRITEONLY改为D3DUSAGE_DYNAMIC，且在LOCK函数设定为D3DLOCK_NOOVERWRITE,并在读取数据中LOCK函数设为D3DLOCK_READONLY
D3DUSAGE_WRITEONLY不动，只在LOCK函数设定为D3DLOCK_NOOVERWRITE,并在读取数据中LOCK函数设为D3DLOCK_READONLY
上边两个都错误，第一个是创建顶点缓存就失败，是因为D3DUSAGE_DYNAMIC设置后内存池不能使用D3DPOOL_MANAGED，第二个是设置缓存只能写所以访问失败
D3DUSAGE_WRITEONLY改为D3DUSAGE_DYNAMIC，D3DPOOL_MANAGED改为D3DPOOL_DEFAULT,

问题:还未拾取射线就执行获取顶点数据的函数了，想在获取拾取射线后再执行获取顶点数据函数
准备在ray结构体中加一个bool判断是否有拾取射线，成功，但是还是会有访问冲突的报错

访问冲突问题在于空指针赋值，vertexS顶点数组是一个空指针，没有指向任何缓存空间
分配空间后还是会有问题,
		
NOTE:建立指针时要对指针进行初始化，即分配地址空间，并且在指针使用前判断一下是否为空，若为空不执行

为何按下W键会导致执行计算拾取射线的函数，因为上一个case后没有break导致顺序下来执行语句了

## 重新编写bool GetVertxDataByPickupRay()函数
步骤
1.定义变量
2.将地形顶点数据以面片顺序存放到数组中
3.传参：射线，面片顶点，tuv》》计算是否相交
4.相交计算交点，存入VertexDataS[Vnum] = VD;

2.访问顶点数组和存放顶点数组vertexS和vertexD用指针
2.访问顶点数组和存放顶点数组vertexS和vertexD用指针，数组，访问数组用指针
2.访问顶点数组和存放顶点数组vertexS和vertexD用指针和vector

点一次鼠标左键获得两个值是因为点弹窗的确定的时候也点了一次?==应该并不是，换成鼠标中键也会有这种情况，应该是BUTTONDOWN的含义问题,查询后，BUTTONDOWN就是按下的意思
也有可能是有多个面与射线相交，但是这样错误的原因就可能为：
										1.顶点数据错误
										2.射线与面片相交测试计算错误
										3.逻辑语句错误
修改射线与面片相交测试函数,还是报错，顶点数据正确，应该是赋值到vertexD的逻辑有问题
是因为return false 语句使得函数直接跳出，再进入检测的还是同一个相交点，如此不断循环
为什么不在setup函数中直接把地形顶点数据按面片顺序存放起来呢，在display每帧都需要解锁锁定赋值会浪费内存:已完成

最终原因是因为获取射线后ray.exist一直为true导致display函数每次循环都会进入到getvertexbypickup()函数中，每次的顶点都是那一个相交顶点，所以会一直提示弹窗。
数组越界的根本原因应该也是这个，重复进入导致Vnum不断增加，直到超过VertexDataS的容量